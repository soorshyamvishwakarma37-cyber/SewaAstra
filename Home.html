  <!DOCTYPE html>
<html lang="hi">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-52QKXTC1J4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-52QKXTC1J4');
</script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-analytics-compat.js"></script>

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>SewaAstra - Ultimate Home Services</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
<style>
    :root { --primary: #ff6b00; --bg: #f8f9fa; --success: #28a745; --text: #333; }
    
    /* DARK MODE STYLES */
    body.dark-mode { --bg: #121212; --text: #f1f1f1; }
    body.dark-mode .app-header { background: #222; }
    body.dark-mode .cat-grid, body.dark-mode .card, body.dark-mode .bottom-nav, body.dark-mode .profile-card, body.dark-mode .full-overlay { background: #1e1e1e; color: white; }
    body.dark-mode .cat-icon { background: #333; border-color: #444; }
    body.dark-mode .info-value { color: #fff; }
    body.dark-mode input { background: #222; color: white; border-color: #444; }

    * { box-sizing: border-box; font-family: 'Segoe UI', Roboto, sans-serif; -webkit-tap-highlight-color: transparent; }
    body { margin: 0; background: var(--bg); padding-bottom: 90px; overflow-x: hidden; color: var(--text); }

    /* --- NEW ANIMATIONS ADDED --- */
    @keyframes iconClick {
        0% { transform: scale(1); }
        50% { transform: scale(0.8); }
        100% { transform: scale(1); }
    }
    .animate-icon { animation: iconClick 0.3s ease-out; }

    @keyframes cardSlideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .card { animation: cardSlideUp 0.4s ease forwards; }
    /* ---------------------------- */

    .rating-row { display: flex; align-items: center; gap: 4px; margin: 4px 0 8px 0; }
    .fa-star { color: #ffc107; font-size: 12px; }
    .rating-val { font-size: 12px; font-weight: bold; color: #333; }
    .review-count { font-size: 11px; color: #888; }
    body.dark-mode .rating-val { color: #fff; }

    .user-pic-circle { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; border: 2px solid white; cursor: pointer; background: #eee; }
    .large-profile-pic { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; border: 3px solid var(--primary); margin-bottom: 10px; display: block; }
    #photoInput { display: none; }

    .full-overlay { position: fixed; inset: 0; background: white; display: flex; align-items: center; justify-content: center; z-index: 100000; flex-direction: column; text-align: center; padding: 20px; overflow-y: auto; }
    .box { width: 100%; max-width: 350px; }
    .box img { width: 220px; margin-bottom: 10px; animation: zoomIn 0.6s ease; }
    .tagline { color: #666; font-size: 14px; margin-bottom: 30px; font-weight: 500; }
    .welcome-note { font-size: 20px; font-weight: 800; color: var(--text); margin-bottom: 5px; }
    .sub-note { font-size: 13px; color: #888; margin-bottom: 20px; }

    .box input { width: 100%; padding: 15px; margin: 8px 0; border: 2px solid #eee; border-radius: 15px; font-size: 16px; text-align: center; outline: none; transition: 0.3s; }
    .box input:focus { border-color: var(--primary); background: #fffcf9; }
    .box button { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 15px; font-weight: bold; font-size: 16px; cursor: pointer; box-shadow: 0 4px 15px rgba(255,107,0,0.3); margin-top: 10px; }

    .pay-options { display: flex; gap: 10px; margin: 15px 0; }
    .pay-btn { flex: 1; padding: 10px; border: 2px solid #eee; border-radius: 12px; cursor: pointer; font-size: 12px; font-weight: bold; transition: 0.3s; }
    .pay-btn.active { border-color: var(--primary); background: #fff5ed; color: var(--primary); }
    .pay-btn i { display: block; font-size: 18px; margin-bottom: 4px; }

    .google-btn { background: white !important; color: #555 !important; border: 1px solid #ddd !important; display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 10px; box-shadow: none !important; }
    .divider { margin: 15px 0; display: flex; align-items: center; color: #bbb; font-size: 12px; }
    .divider::before, .divider::after { content: ""; flex: 1; height: 1px; background: #eee; margin: 0 10px; }

    .legal-links { font-size: 11px; color: #aaa; margin-top: 20px; line-height: 2; }
    .legal-links span { color: var(--primary); font-weight: bold; cursor: pointer; text-decoration: underline; margin: 0 5px; }

    #welcomeToast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 12px 25px; border-radius: 30px; font-weight: bold; display: none; z-index: 200001; animation: slideDown 0.4s ease; }
    .app-header { background: var(--primary); padding: 15px; border-radius: 0 0 25px 25px; position: sticky; top: 0; z-index: 1000; }
    .header-top { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; color: white; }
    .brand-text { font-size: 24px; font-weight: 900; letter-spacing: 1px; }
    .header-actions { display: flex; align-items: center; gap: 10px; }
    .loc-badge { font-size: 11px; background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 20px; cursor: pointer; }
    .search-container { position: relative; }
    .search-container i { position: absolute; left: 15px; top: 14px; color: #888; }
    .search-bar { width: 100%; padding: 12px 15px 12px 45px; border: none; border-radius: 15px; font-size: 14px; outline: none; }

    .cat-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; padding: 20px 15px; background: white; margin-top: -10px; border-radius: 25px; }
    .cat-item { text-align: center; cursor: pointer; }
    .cat-icon { width: 60px; height: 60px; background: #fff5ed; border: 1px solid #ffe0cc; border-radius: 18px; display: flex; align-items: center; justify-content: center; margin: 0 auto 8px; transition: 0.3s; }
    .cat-icon i { font-size: 24px; color: var(--primary); }
    .cat-item span { font-size: 11px; font-weight: 700; color: #555; display: block; }

    .sub-tabs { display: none; overflow-x: auto; padding: 10px 15px; background: white; white-space: nowrap; scrollbar-width: none; border-bottom: 1px solid #eee; }
    .sub-tab { display: inline-block; padding: 8px 18px; background: #f0f0f0; border-radius: 20px; font-size: 12px; font-weight: 600; margin-right: 8px; cursor: pointer; }
    .sub-tab.active { background: var(--primary); color: white; }

    .service-scroll { display: flex; overflow-x: auto; padding: 15px; gap: 15px; scrollbar-width: none; }
    .card { background: white; min-width: 170px; border-radius: 20px; padding: 12px; border: 1px solid #eee; box-shadow: 0 4px 12px rgba(0,0,0,0.05); flex-shrink: 0; }
    .card img { width: 100%; height: 110px; border-radius: 15px; object-fit: cover; }
    .card h4 { font-size: 14px; margin: 12px 0 6px; height: 38px; overflow: hidden; }
    .price-row { display: flex; justify-content: space-between; align-items: center; }
    .price-row b { color: var(--primary); font-size: 16px; }
    .add-btn { background: var(--primary); color: white; border: none; padding: 7px 14px; border-radius: 10px; font-weight: bold; font-size: 11px; cursor: pointer; }

    .bottom-nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 12px 0; border-top: 1px solid #eee; box-shadow: 0 -5px 20px rgba(0,0,0,0.05); }
    .nav-item { text-align: center; color: #bbb; font-size: 11px; font-weight: 600; cursor: pointer; position: relative; }
    .nav-item.active { color: var(--primary); }
    .nav-item i { font-size: 22px; display: block; margin-bottom: 4px; }
    .badge { position: absolute; top: -8px; right: -5px; background: #ff3b30; color: white; padding: 2px 7px; border-radius: 10px; font-size: 10px; }

    .profile-card { width: 100%; background: #fff; border-radius: 20px; padding: 20px; text-align: left; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-height: 80vh; overflow-y: auto; }
    .info-group { margin-bottom: 12px; border-bottom: 1px solid #f0f0f0; padding-bottom: 8px; }
    .info-label { font-size: 11px; color: #888; display: block; }
    .info-value { font-size: 15px; font-weight: 600; color: #333; }
    
    .lang-box { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; }
    .lang-btn { padding: 8px; border-radius: 10px; border: 1px solid #ddd; background: #f9f9f9; cursor: pointer; font-weight: bold; font-size: 12px; }
    .lang-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

    .track-box { background: #f0f0f0; padding: 10px; border-radius: 15px; margin: 10px 0; color: #333; }
    .step { display: flex; align-items: center; gap: 10px; margin: 5px 0; font-size: 12px; }
    .dot { width: 10px; height: 10px; background: #ccc; border-radius: 50%; }
    .dot.active { background: var(--success); }

    @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    @keyframes slideDown { from { top: -50px; } to { top: 20px; } }
</style>
<style>/* ===== PROFILE PIC PERFECT CIRCLE FIX ===== */

.profile-pic-wrapper{
  width: 90px;
  height: 90px;
  border-radius: 50%;
  background: #5a627d;          /* पीछे का रंग */
  border: 3px solid var(--primary);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}
.large-profile-pic{
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  display: block;
}
</style> 
<style>/* Blinkit Style Modern Cart */
.cart-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); display: none; z-index: 200000; align-items: flex-end; backdrop-filter: blur(4px); }
.cart-panel { background: #f4f6f8; width: 100%; border-radius: 25px 25px 0 0; padding: 20px; max-height: 90vh; overflow-y: auto; animation: slideUp 0.3s ease; }
.cart-card { background: white; border-radius: 15px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
.item-row { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #f1f1f1; }
.item-row:last-child { border: none; }
.qty-ctrl { display: flex; align-items: center; gap: 12px; background: var(--primary); color: white; padding: 5px 12px; border-radius: 8px; font-weight: bold; }
.bill-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; color: #555; }
.total-amt { font-size: 18px; font-weight: 900; color: #000; border-top: 2px solid #eee; pt: 10px; margin-top: 10px; }
.input-field { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 10px; margin-top: 8px; font-size: 14px; outline: none; }</style>
<style>.address-card { background: #fff; border-radius: 15px; padding: 15px; margin-bottom: 15px; border: 1px solid #eef0f2; }
.loc-btn { 
    display: flex; align-items: center; justify-content: center; gap: 8px;
    width: 100%; padding: 10px; background: #e8f5e9; color: #1b5e20;
    border: 1px dashed #1b5e20; border-radius: 10px; font-weight: bold; cursor: pointer; margin-bottom: 10px;
}
.addr-input { 
    width: 100%; border: none; border-bottom: 1px solid #eee; 
    padding: 10px 0; font-size: 14px; outline: none; margin-top: 5px;
}
.addr-input:focus { border-bottom: 2px solid var(--primary); }</style>
<style>#mapPreview {
    width: 100%;
    height: 120px;
    border-radius: 12px;
    margin-top: 10px;
    display: none; /* शुरू में छुपा रहेगा */
    border: 1px solid #ddd;
    background-size: cover;
    background-position: center;
}</style>
<style>#cartToast {
    visibility: hidden;
    min-width: 250px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 10px;
    padding: 16px;
    position: fixed;
    z-index: 999999;
    left: 50%;
    bottom: 100px;
    transform: translateX(-50%);
    font-size: 14px;
    font-weight: bold;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
}

#cartToast.show-toast {
    visibility: visible;
    animation: fadein 0.5s, fadeout 0.5s 2.5s;
}

@keyframes fadein {
    from {bottom: 0; opacity: 0;}
    to {bottom: 100px; opacity: 1;}
}

@keyframes fadeout {
    from {bottom: 100px; opacity: 1;}
    to {bottom: 0; opacity: 0;}
}</style>
<style>/* ADD बटन का नया लुक */
.add-btn {
    background: transparent;
    color: var(--primary);
    border: 2px solid var(--primary);
    padding: 8px 20px;
    border-radius: 8px;
    font-weight: bold;
    transition: all 0.3s ease; /* धीरे से रंग भरने के लिए */
    cursor: pointer;
}

/* जब बटन 'Filled' क्लास के साथ हो (Add होने के बाद) */
.add-btn.filled {
    background: var(--primary); /* पूरा रंग भर जाएगा */
    color: white;
    border-color: var(--primary);
}</style>
<style>#history {
    background: #fdfdfd;
    min-height: 100vh;
    padding-bottom: 80px; /* नेविगेशन बार के लिए जगह */
}

.history-card {
    background: #fff;
    margin: 15px;
    padding: 16px;
    border-radius: 16px;
    border: 1px solid #f0f0f0;
    box-shadow: 0 4px 10px rgba(0,0,0,0.03);
}

.pay-online-badge {
    background: #e8f5e9;
    color: #2e7d32;
    font-size: 10px;
    padding: 4px 8px;
    border-radius: 6px;
    font-weight: bold;
}</style>
<Style>.s-btn {
    background: #fff;
    border: 1px solid #eee;
    padding: 16px;
    border-radius: 12px;
    margin-bottom: 12px;
    font-weight: bold;
    text-align: left;
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
    cursor: pointer;
}
.s-btn:active { background: #e8f5e9; border-color: #15a04a; }</Style>
<style>/* Full Page Container */
#supportPage {
    font-family: 'Segoe UI', Roboto, sans-serif;
    background-color: #f8f9fa; /* Light grey background */
}

/* Header Styling */
.support-header {
    background: #ffffff;
    padding: 20px;
    text-align: center;
    border-bottom: 1px solid #eee;
    box-shadow: 0 2px 10px rgba(0,0,0,0.03);
}

/* Problem Cards */
.support-tile {
    background: #ffffff;
    border: 1px solid #f0f0f0;
    padding: 20px;
    border-radius: 16px;
    margin: 12px 20px;
    font-weight: 600;
    color: #333;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 6px rgba(0,0,0,0.02);
    transition: all 0.3s ease;
    cursor: pointer;
}

.support-tile:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(0,0,0,0.05);
    border-color: #15a04a;
}

.support-tile i {
    color: #15a04a;
    font-size: 14px;
}

/* Contact Box Styling */
.contact-container {
    background: #ffffff;
    margin: 20px;
    padding: 25px;
    border-radius: 24px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.05);
    border: 1px solid #e8f5e9;
    animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Premium Buttons */
.btn-wa {
    background: #25d366;
    color: white;
    width: 100%;
    padding: 16px;
    border-radius: 14px;
    border: none;
    font-size: 16px;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin-bottom: 12px;
    box-shadow: 0 4px 12px rgba(37, 211, 102, 0.2);
}

.btn-call {
    background: #15a04a;
    color: white;
    width: 100%;
    padding: 16px;
    border-radius: 14px;
    border: none;
    font-size: 16px;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    box-shadow: 0 4px 12px rgba(21, 160, 74, 0.2);
}

.back-link {
    color: #888;
    font-size: 14px;
    margin-top: 20px;
    display: inline-block;
    cursor: pointer;
    text-decoration: none;
    font-weight: 500;
}</style>
</head>
<body id="mainBody">

<div id="welcomeToast"></div>

<div id="bookingPopup" class="full-overlay" style="display:none; background:rgba(0,0,0,0.8); z-index:999999;">
    <div class="box" style="background:white; padding:20px; border-radius:20px;">
        <h3 id="popTitle">Booking Details</h3>
        <label style="font-size: 12px; color: #666; display: block; text-align: left;">Select Date & Time:</label>
        <input type="date" id="bDate" style="text-align:left">
        <input type="time" id="bTime" style="text-align:left">
        <label style="font-size: 12px; color: #666; display: block; text-align: left; margin-top: 10px;">Payment Method:</label>
        <div class="pay-options">
            <div class="pay-btn active" id="btnOnline" onclick="setPayMethod('Online')">
                <i class="fa fa-credit-card"></i> Online Pay
            </div>
            <div class="pay-btn" id="btnCash" onclick="setPayMethod('Cash')">
                <i class="fa fa-money-bill-wave"></i> Cash (COD)
            </div>
        </div>
        <button onclick="handleBooking()" id="confirmBtn">Continue to Book</button>
        <button onclick="document.getElementById('bookingPopup').style.display='none'" style="background:#f0f0f0; color: #333; box-shadow: none;">Cancel</button>
    </div>
</div>

<div id="payGateway" class="full-overlay" style="display:none; background:#fff; z-index:1000000;">
    <div class="box">
        <img src="https://cdn-icons-png.flaticon.com/512/10110/10110410.png" style="width:70px" />
        <h2>Secure Payment</h2>
        <p>Total Amount: <b id="payAmt" style="color:var(--primary); font-size: 24px;">₹0</b></p>
        <div style="background:#f8f9fa; padding:15px; border-radius:15px; margin: 15px 0; border: 1px dashed #ccc;">
            <p style="font-size:12px; margin-bottom:10px;">Supported UPI Apps</p>
            <div style="display:flex; justify-content:space-around; font-size:30px; color:#555;">
                <i class="fab fa-google-pay"></i>
                <i class="fa fa-qrcode"></i>
                <i class="fab fa-amazon-pay"></i>
            </div>
        </div>
        <button onclick="finalCheckout('Online Paid')" style="background:var(--success)">Pay & Confirm Booking</button>
        <button onclick="document.getElementById('payGateway').style.display='none'" style="background:none; color:#666; box-shadow:none;">Go Back</button>
    </div>
</div>
 

<div id="profileOverlay" class="full-overlay" style="display:none; background: rgba(0,0,0,0.5); z-index: 2000;">
    <div class="box">
        <div class="profile-card">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h2 id="profTitle" style="margin:0;">मेरी प्रोफाइल</h2>
                <i class="fa fa-times" onclick="toggleProfile()" style="cursor:pointer; font-size: 20px;"></i>
            </div>
            <div style="text-align: center; margin-bottom: 20px;">
                <center>
                    <img id="largePic" class="large-profile-pic" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" onclick="triggerUpload()" />
                    <span style="font-size: 10px; color: var(--primary); font-weight: bold; cursor: pointer;" onclick="triggerUpload()">PHOTO बदलें</span>
                    <input type="file" id="photoInput" accept="image/*" onchange="previewPhoto(this)" />
                </center>
            </div>
            <div style="margin-bottom:15px; display:flex; justify-content:space-between; align-items:center">
                <span>Dark Mode</span>
                <input type="checkbox" id="darkBtn" onchange="toggleDark()" style="width:40px" />
            </div>
            <button onclick="shareApp()" style="width:100%; padding:10px; background:#e8f0fe; color:#1a73e8; border:none; border-radius:10px; font-weight:bold; margin-bottom:15px;">
                <i class="fa fa-share-alt"></i> App Share करें
            </button>
            <div id="trackingUI" class="track-box" style="display:none">
                <b id="trackHead">Live Tracking</b>
                <div class="step"><div class="dot active"></div> Order Placed</div>
                <div class="step"><div class="dot active"></div> Partner Assigned</div>
                <div class="step"><div class="dot"></div> Service in Progress</div>
            </div>
            <div class="info-label">App Language / भाषा चुनें</div>
            <div class="lang-box">
                <button id="btnHi" class="lang-btn" onclick="setLang('hi')">हिन्दी</button>
                <button id="btnEn" class="lang-btn" onclick="setLang('en')">English</button>
                <button id="btnBh" class="lang-btn" onclick="setLang('bh')">भोजपुरी</button>
                <button id="btnPb" class="lang-btn" onclick="setLang('pb')">ਪੰਜਾਬੀ</button>
            </div>
            <div class="info-group">
                <span class="info-label" id="lblNm">नाम</span>
                <span class="info-value" id="dispName">Guest</span>
            </div>
            <div class="info-group">
                <span class="info-label" id="lblMob">मोबाइल नंबर</span>
                <span class="info-value" id="dispMobile">Not Logged In</span>
            </div>
            <h3 style="font-size: 16px; margin: 15px 0 10px;" id="lblHist">ऑर्डर हिस्ट्री</h3>
            <div id="orderHistoryList"></div>
            <button onclick="logout()" style="background: #333; margin-top: 15px; padding: 10px;" id="btnLogout">लॉगआउट</button>
        </div>
    </div>
</div>

<header class="app-header">
    <div class="header-top">
        <div class="brand-text">SEWAASTRA</div>
        <div class="header-actions">
            <div class="loc-badge" onclick="getLoc()"><i class="fa fa-map-marker-alt"></i> <span id="locTxt">Set Location</span></div>
            <div id="headerProfile" onclick="toggleProfile()">
                <img id="headerPic" class="user-pic-circle" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" />
            </div>
        </div>
    </div>
    <div class="search-container">
        <i class="fa fa-search"></i>
        <input type="text" id="srch" class="search-bar" placeholder="मोबाइल, AC, फ्रिज रिपेयर खोजें..." onkeyup="filter()" />
    </div>
</header>

<div class="cat-grid">
    <div class="cat-item" onclick="load('mobile', this)"><div class="cat-icon"><i class="fa fa-mobile-alt"></i></div><span>Mobile</span></div>
    <div class="cat-item" onclick="load('ac', this)"><div class="cat-icon"><i class="fa fa-wind"></i></div><span>AC</span></div>
    <div class="cat-item" onclick="load('fridge', this)"><div class="cat-icon"><i class="fa fa-snowflake"></i></div><span>Fridge</span></div>
    <div class="cat-item" onclick="load('wm', this)"><div class="cat-icon"><i class="fa fa-tint"></i></div><span>Washing</span></div>
    <div class="cat-item" onclick="load('tv', this)"><div class="cat-icon"><i class="fa fa-tv"></i></div><span>Smart TV</span></div>
    <div class="cat-item" onclick="load('elec', this)"><div class="cat-icon"><i class="fa fa-bolt"></i></div><span>Electric</span></div>
    <div class="cat-item" onclick="load('plumbing', this)"><div class="cat-icon"><i class="fa fa-wrench"></i></div><span>Plumber</span></div>
    <div class="cat-item" onclick="load('more', this)"><div class="cat-icon"><i class="fa fa-plus-circle"></i></div><span>More</span></div>
</div>

<div id="subTabsArea" class="sub-tabs"></div>
<div class="section-header" style="padding:15px; font-weight:800; font-size:18px;"><span id="catTitle">Top Recommended</span></div>
<div class="service-scroll" id="display"></div>

<!-- bottom nav -->
<footer class="bottom-nav">
    <div class="nav-item active" onclick="location.reload()" id="navHome"><i class="fa fa-home"></i>Home</div>
  <div class="nav-item" onclick="openSupportView()" id="navSupp">
    <i class="fa fa-headset"></i>
    <span>Support</span>
</div>
    <div class="nav-item" onclick="checkout()"><i class="fa fa-shopping-cart"></i>Cart <span class="badge" id="bCount">0</span></div>
    <div class="nav-item" onclick="showHistory()" id="navHis"><i class="fa fa-history"></i>History</div>
</footer>

<script>
function showHistory() {
    // मान लें कि 'orderHistory' वह ऐरे (array) है जहाँ डेटा स्टोर है
    // अगर आपके पास डेटाबेस है, तो यहाँ उसे फेच (fetch) करें
    let orderHistory = []; // अभी यह खाली है

    if (orderHistory.length === 0) {
        alert("कोई इतिहास नहीं मिला"); // यहाँ आप अपनी भाषा के अनुसार बदल सकते हैं
    } else {
        // यहाँ हिस्ट्री दिखाने का लॉजिक लिखें
        console.log("Showing history...", orderHistory);
        alert("Displaying your history");

    }
}
</script>

<script>
let cart = [];
let mapsLink = "Not provided";

let selectedPayment = "Online";
// --- LANGUAGE DATA ---
const translations = {
    'en': { navHome: 'Home', navSupp: 'Support', navHis: 'History', noHis: 'No History Found' },
    'hi': { navHome: 'होम', navSupp: 'सहायता', navHis: 'इतिहास', noHis: 'कोई इतिहास नहीं मिला' },
    'bh': { navHome: 'घर', navSupp: 'मदद', navHis: 'पुराना', noHis: 'कुछु नइखे' },
    'pb': { navHome: 'ਘਰ', navSupp: 'ਸਹਾਇਤਾ', navHis: 'ਇਤਿਹਾਸ', noHis: 'ਕੋਈ ਇਤਿਹਾਸ ਨਹੀਂ' }
};

let currentLang = 'hi'; // Default language

function setLang(langCode, event) {
    currentLang = langCode;

    // 1. Touch Feel (Vibration)
    if (navigator.vibrate) {
        navigator.vibrate(50);
    }

    // 2. Button Animation (Touch Feel Effect)
    if (event && event.currentTarget) {
        const btn = event.currentTarget;
        btn.style.transform = "scale(0.9)";
        setTimeout(() => {
            btn.style.transform = "scale(1)";
        }, 100);
    }

    // 3. Text Update Logic
    const data = translations[langCode];
    if (data) {
        const homeNav = document.getElementById('navHome');
        const suppNav = document.getElementById('navSupp');
        const hisNav = document.getElementById('navHis');

        if (homeNav) homeNav.innerHTML = `<i class="fa fa-home"></i>${data.navHome}`;
        if (suppNav) suppNav.innerHTML = `<i class="fa fa-headset"></i>${data.navSupp}`;
        if (hisNav) hisNav.innerHTML = `<i class="fa fa-history"></i>${data.navHis}`;
    }
} // setLang यहाँ बंद होना चाहिए

function showHistory() {
    let orderHistory = []; // अभी यह खाली है
    if (orderHistory.length === 0) {
        alert(translations[currentLang].noHis);
    } else {
        alert("Showing history...");
    }
}
 
// --- FILTER FUNCTION ---
function filter() {
    let input = document.getElementById('srch').value.toLowerCase();
    let cards = document.querySelectorAll('.card');
    cards.forEach(card => {
        let text = card.querySelector('h4').innerText.toLowerCase();
        card.style.display = text.includes(input) ? "block" : "none";
    });
}

function triggerUpload() { document.getElementById('photoInput').click(); }

function previewPhoto(input) {
    if (input.files && input.files[0]) {
        const reader = new FileReader();
        reader.onload = function(e) {
            const photoData = e.target.result;
            localStorage.setItem('sw_user_photo', photoData);
            updatePhotoUI(photoData);
        }
        reader.readAsDataURL(input.files[0]);
    }
}

function updatePhotoUI(data) {
    if(data) {
        document.getElementById('headerPic').src = data;
        document.getElementById('largePic').src = data;
    }
}

const mainData = {
    'mobile': [
        {n:'Broken Screen (Combo)', p:1, i:'https://images.unsplash.com/photo-1512428559087-560fa5ceab42?w=200'},
        {n:'Battery Replacement', p:899, i:'bettry.png'},
        {n:'Charging Port Repair', p:399, i:'charging.png'},
        {n:'Liquid Damage Fix', p:599, i:'liquid.png'},
        {n:'Mobile Hang', p:499, i:'hang.png'},
        {n:'Mic/Speaker Issue', p:349, i:'speeker.png'}
    ],
    'ac': [
        {n:'AC Deep Cleaning', p:499, i:'ac cleen.png'},
        {n:'Gas Refilling', p:1500, i:'ac gas.png'},
        {n:'AC Installation', p:1199, i:'ac install.png'},
        {n:'PCB Repair', p:1800, i:'Ac pbc.png'}
    ],
    'fridge': [
        {n:'Not Cooling Repair', p:399, i:'not cooling.png'},
        {n:'Fridge Gas Fill', p:1800, i:'fridge gas.png'},
        {n:'PBC Circuit Repair', p:699, i:'pbc circit.png'},
        {n:'Thermostat Change', p:550, i:'Thermostat.png'}
    ],
    'wm': [
        {n:'Drainage Issue', p:299, i:'Drainage.png'},
        {n:'Drum/Motor Fix', p:999, i:'moter.png'},
        {n:'Fully Auto Service', p:599, i:'full auto .png'}
    ],
    'tv': [
        {n:'LED Wall Mount', p:249, i:'Led Wall.png'},
        {n:'No Picture Fix', p:1500, i:'No Picture.png'},
        {n:'Sound System Repair', p:499, i:'Sound System.png'}
    ],
    'elec': [
        {n:'New Point Fitting', p:149, i:'New Point.png'},
        {n:'Inverter Setup', p:499, i:'Inverter.png'},
        {n:'Fan/Light Fix', p:99, i:'Fan.png'}
    ],
    'plumbing': [
        {n:'Pipe Leakage Repair', p:199, i:'Pipe.png'},
        {n:'Toilet/Sink Install', p:499, i:'Toilet.png'}
    ]


};

const moreData = {
    'Cleaning': [
        {n:'Sofa Spa Cleaning', p:799, i:'Sofa.png'},
        {n:'Bathroom Deep Clean', p:349, i:'bathroom.png'},
        {n:'Full House Deep Clean', p:3499, i:'Fullhomeclean.png'}
    ],
    'Pest Control': [
        {n:'Cockroach Control', p:699, i:'cocroch.png'},
        {n:'Termite Protection', p:1999, i:'contro.png'}
    ],
    'Carpentry': [
        {n:'Door/Lock Fix', p:199, i:'Door.png'},
        {n:'Furniture Repair', p:499, i:'Furniture.png'}
    ],
    'Laptop':[
        {n:'Softwere problme',p:699,i:'Soft.png' },
        {n:'Keyboard Change',p:699,i:'Keybord.png' },
        {n:'display broken',p:699,i:'laptop.png' }
    ]
};

function setPayMethod(m) {
    selectedPayment = m;
    document.getElementById('btnOnline').classList.toggle('active', m === 'Online');
    document.getElementById('btnCash').classList.toggle('active', m === 'Cash');
}

function handleBooking() {
    let date = document.getElementById('bDate').value;
    let time = document.getElementById('bTime').value;
    if(!date || !time) return alert("Please select date and time");

    if(selectedPayment === "Online") {
        let total = cart.reduce((s, i) => s + i.p, 0);
        document.getElementById('payAmt').innerText = "₹" + total;
        document.getElementById('payGateway').style.display = 'flex';
    } else {
        finalCheckout('Cash on Delivery');
    }
}

function shareApp() {
    if (navigator.share) {
        navigator.share({ title: 'SewaAstra', text: 'भारत की सबसे भरोसेमंद होम सर्विस ऐप!', url: window.location.href });
    } else { alert("Link Copied: " + window.location.href); }
}

function toggleDark() {
    document.body.classList.toggle('dark-mode');
    localStorage.setItem('sw_dark', document.body.classList.contains('dark-mode'));
}

function checkout() {
    if(cart.length === 0) return alert("Cart खाली है");
    document.getElementById('bookingPopup').style.display = 'flex';
}

function finalCheckout(payStatus) {
    let date = document.getElementById('bDate').value;
    let time = document.getElementById('bTime').value;
    let items = cart.map(i => i.n).join(', ');
    let total = cart.reduce((s, i) => s + i.p, 0);
    let history = JSON.parse(localStorage.getItem('sw_history') || "[]");
    history.push({date: new Date().toLocaleDateString(), items, total, bDate: date, bTime: time, payment: payStatus});
    localStorage.setItem('sw_history', JSON.stringify(history));
    localStorage.setItem('sw_tracking', 'active');

    let msg = `*New Order: SewaAstra*%0A*Items:* ${items}%0A*Total:* ₹${total}%0A*Date:* ${date} at ${time}%0A*Payment:* ${payStatus}%0A*User:* ${localStorage.getItem('sw_name')}`;
    window.open(`https://wa.me/${7869969190}?text=${msg}`);
    location.reload();
}

function toggleProfile() {
    const overlay = document.getElementById('profileOverlay');
    if(overlay.style.display === 'none' || overlay.style.display === "") {
        document.getElementById('dispName').innerText = localStorage.getItem('sw_name') || "Guest";
        document.getElementById('dispMobile').innerText = localStorage.getItem('sw_user') || "Not Logged In";
        if(localStorage.getItem('sw_tracking')) document.getElementById('trackingUI').style.display = 'block';
        loadHistory();
        overlay.style.display = 'flex';
    } else overlay.style.display = 'none';
}

function setLang(lang) {
    localStorage.setItem('sw_lang', lang);
    document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
    const btnId = 'btn' + lang.charAt(0).toUpperCase() + lang.slice(1);
    if(document.getElementById(btnId)) document.getElementById(btnId).classList.add('active');
}

function load(id, element) {
    if(element) {
        const iconBox = element.querySelector('.cat-icon');
        iconBox.classList.remove('animate-icon');
        void iconBox.offsetWidth; // reflow trigger
        iconBox.classList.add('animate-icon');
    }
    const display = document.getElementById('display');
    const tabs = document.getElementById('subTabsArea');
    display.innerHTML = ''; tabs.style.display='none';
    if(id==='more'){
        document.getElementById('catTitle').innerText = "Premium Services";
        tabs.style.display='flex'; tabs.innerHTML='';
        for(let group in moreData) tabs.innerHTML += `<div class="sub-tab" onclick="loadSub('${group}')">${group}</div>`;
        loadSub(Object.keys(moreData)[0]);
    } else {
        document.getElementById('catTitle').innerText = id.toUpperCase() + " Services";
        (mainData[id] || []).forEach(s => display.innerHTML += createCard(s));
    }
}

function loadSub(group) {
    const display = document.getElementById('display');
    display.innerHTML = '';
    document.querySelectorAll('.sub-tab').forEach(t => t.classList.toggle('active', t.innerText===group));
    moreData[group].forEach(s => display.innerHTML += createCard(s));
}

function createCard(s) {
    const rating = (Math.random() * (4.9 - 4.4) + 4.4).toFixed(1);
    const reviews = Math.floor(Math.random() * 400) + 100;
    return `<div class="card">
        <img src="${s.i}" onerror="this.src='https://via.placeholder.com/150'" />
        <h4>${s.n}</h4>
        <div class="rating-row"><i class="fa fa-star"></i><span class="rating-val">${rating}</span><span class="review-count">(${reviews})</span></div>
        <div class="price-row"><b>₹${s.p}</b><button class="add-btn" onclick="addToCart('${s.n}', ${s.p})">ADD</button></div>
    </div>`;
}

function addToCart(n, p) { cart.push({n, p}); document.getElementById('bCount').innerText = cart.length; }

function getLoc() { navigator.geolocation.getCurrentPosition(() => document.getElementById('locTxt').innerText = "Linked ✅", () => alert("GPS चालू करें")); }

function loadHistory() {
    const history = JSON.parse(localStorage.getItem('sw_history') || "[]");
    const container = document.getElementById('orderHistoryList');
    container.innerHTML = history.length === 0 ? '<p>No orders yet</p>' : history.reverse().map(o => `
        <div style="background:#f9f9f9; color:#333; padding:10px; border-radius:10px; margin-bottom:8px; border-left:4px solid var(--primary); font-size:12px;">
            <b>${o.date}</b><br>${o.items}<br>Slot: ${o.bDate} ${o.bTime}<br><b>₹${o.total}</b>
        </div>`).join('');
}

function logout() { localStorage.clear(); location.reload(); }

window.onload = () => {
    if(localStorage.getItem('sw_user')) document.getElementById('loginScreen').style.display='none';
    if(localStorage.getItem('sw_dark')==='true'){ document.body.classList.add('dark-mode'); document.getElementById('darkBtn').checked=true; }
    const savedPhoto=localStorage.getItem('sw_user_photo');
    if(savedPhoto) updatePhotoUI(savedPhoto);
    load('mobile');
    setLang(localStorage.getItem('sw_lang') || 'hi');
};
</script>

<script>
/* ========= LANGUAGE PATCH – DO NOT DELETE OLD CODE ========= */

const LANG_DATA = {
  hi: { home:"होम", support:"सहायता", history:"इतिहास", noHistory:"कोई इतिहास नहीं मिला" },
  en: { home:"Home", support:"Support", history:"History", noHistory:"No history found" },
  bh: { home:"घर", support:"मदद", history:"पुराना", noHistory:"कुछु नइखे" },
  pb: { home:"ਘਰ", support:"ਸਹਾਇਤਾ", history:"ਇਤਿਹਾਸ", noHistory:"ਕੋਈ ਇਤਿਹਾਸ ਨਹੀਂ" }
};

window.currentLang = localStorage.getItem("sw_lang") || "hi";

window.setLang = function(lang, event){
  currentLang = lang;
  localStorage.setItem("sw_lang", lang);
  document.querySelectorAll(".lang-btn").forEach(b=>b.classList.remove("active"));
  if(event && event.currentTarget){
    event.currentTarget.classList.add("active");
    event.currentTarget.style.transform="scale(0.88)";
  }
  if(navigator.vibrate) navigator.vibrate(40);
  document.getElementById("navHome").innerHTML =
    `<i class="fa fa-home"></i>${LANG_DATA[lang].home}`;
  document.getElementById("navSupp").innerHTML =
    `<i class="fa fa-headset"></i>${LANG_DATA[lang].support}`;
  document.getElementById("navHis").innerHTML =
    `<i class="fa fa-history"></i>${LANG_DATA[lang].history}`;
};

window.showHistory = function(){
  let history = JSON.parse(localStorage.getItem("sw_history") || "[]");
  if(history.length===0){
    alert(LANG_DATA[currentLang].noHistory);
  } else {
    toggleProfile();
  }
};

/* Auto apply saved language on load */
window.addEventListener("load", ()=>{
  let saved = localStorage.getItem("sw_lang") || "hi";
  let btnId = "btn"+saved.charAt(0).toUpperCase()+saved.slice(1);
  if(document.getElementById(btnId)){
    document.getElementById(btnId).classList.add("active");
  }
  setLang(saved);
});
</script>

<style>
.lang-btn {
  transition: transform 0.15s ease;
}
.lang-btn:active {
  transform: scale(0.88);
}
</style>
<script>
  // आपकी असली Firebase Config
  const firebaseConfig = {
    apiKey: "AIzaSyA4kInzUxzF6Or1sHfzXavx1nVM0x40lak",
    authDomain: "sewaastra.firebaseapp.com",
    databaseURL: "https://sewaastra-default-rtdb.firebaseio.com",
    projectId: "sewaastra",
    storageBucket: "sewaastra.firebasestorage.app",
    messagingSenderId: "211091351218",
    appId: "1:211091351218:web:5602f5f1a36a21c3464bab",
    measurementId: "G-52QKXTC1J4"
  };

  // Firebase शुरू करें
  if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
  }

 
   function sendOTP() {
    const number = document.getElementById('mobileNum').value;
    if(number.length !== 10) {
        alert("कृपया 10 अंकों का सही मोबाइल नंबर डालें।");
        return;
    }

    const phoneNumber = "+91" + number;

    // अगर recaptchaVerifier पहले से बना हुआ है, तो उसे दोबारा न बनाएँ
    if (!window.recaptchaVerifier) {
        window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('login-btn', {
            'size': 'invisible'
        });
    }

    firebase.auth().signInWithPhoneNumber(phoneNumber, window.recaptchaVerifier)
        .then((confirmationResult) => {
            const code = prompt("OTP दर्ज करें:");
            if (code) {
                return confirmationResult.confirm(code);
            }
        })
        .then((result) => {
            alert("लॉगिन सफल!");
            window.location.href = "index.html";
        })
        .catch((error) => {
            // अगर reCAPTCHA एरर दे, तो उसे 'Reset' करें
            if (window.recaptchaVerifier) {
                window.recaptchaVerifier.render().then(function(widgetId) {
                    grecaptcha.reset(widgetId);
                });
            }
            alert("गलती: " + error.message);
        });
}
</script>
   
<script>// इसे अपनी स्क्रिप्ट के अंत में जोड़ें
firebase.auth().onAuthStateChanged((user) => {
    // अपनी लॉगिन वाली मुख्य DIV की ID यहाँ लिखें (जैसे auth-container)
    const loginSection = document.getElementById('auth-ui'); 
    const profileSection = document.getElementById('user-profile');

    if (user) {
        // लॉगिन सफल: लॉगिन फॉर्म छुपाएं और प्रोफाइल दिखाएं
        if(loginSection) loginSection.style.display = "none";
        if(profileSection) profileSection.style.display = "block";

         // Google से मिला डेटा स्क्रीन पर डालें
        document.getElementById('user-display-name').innerText = user.displayName;
        document.getElementById('user-email').innerText = user.email;
        document.getElementById('user-img').src = user.photoURL || 'https://via.placeholder.com/80';
    } else {
        // यूजर लॉगआउट है: लॉगिन फॉर्म दिखाएं
        if(loginSection) loginSection.style.display = "block";
        if(profileSection) profileSection.style.display = "none";
    }
});
</script>
  <script type="module">
    // 1. फायरबेस मॉड्यूल्स इम्पोर्ट करें
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
    import { getFirestore, collection, addDoc, onSnapshot, doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

    // 2. आपकी कॉन्फ़िगरेशन (तीनों फाइल्स में एक ही रहेगी)
    const firebaseConfig = {
        apiKey: "AIzaSyAL9dsBvNrp-ijxAk7ZYZcbN0BPaZ5gYtw",
        authDomain: "sewaastra.firebaseapp.com",
        projectId: "sewaastra",
        storageBucket: "sewaastra.firebasestorage.app",
        messagingSenderId: "211091351218",
        appId: "1:211091351218:web:47fe25d6db3e8dd0464bab"
    };

    // 3. फायरबेस शुरू करें
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app); // अब डेटा Firestore में जाएगा

    // --- अब तीनों फाइल्स के लिए अलग-अलग फंक्शन्स ---

    // A. पार्टनर ऐप के लिए (डेटा भेजना)
    window.registerPartner = async (partnerData) => {
        await addDoc(collection(db, "partners"), partnerData);
    };

    // B. कस्टमर ऐप के लिए (बुकिंग करना)
    window.makeBooking = async (bookingData) => {
        await addDoc(collection(db, "bookings"), bookingData);
    };

    // C. एडमिन ऐप के लिए (डेटा देखना)
    window.loadAdminData = () => {
        onSnapshot(collection(db, "partners"), (snap) => { /* टेबल अपडेट करें */ });
        onSnapshot(collection(db, "bookings"), (snap) => { /* टेबल अपडेट करें */ });
    };

</script>
 
  <footer style="text-align: center; padding: 20px; margin-top: 50px; border-top: 1px solid #ddd;">
    <p>&copy; 2026 SewaAstra. All rights reserved.</p>
    <p>
        <a href="policy.html" style="text-decoration: none; color: #007bff; margin: 0 10px;">Privacy Policy</a> | 
        <a href="terms.html" style="text-decoration: none; color: #007bff; margin: 0 10px;">Terms of Service</a>
    </p>
   <p>
 <a href="about.html" style="text-decoration: none; color: #2c3e50; font-family: sans-serif; font-size: 13px; font-weight: 600; padding: 0 10px;">꧁✿[ About us ]✿꧂</a></p>
</footer>
<div id="fullCartPanel" class="cart-overlay" onclick="closeCart(event)">
    <div class="cart-panel" onclick="event.stopPropagation()">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
            <h2 style="margin:0;">चेकआउट करें</h2>
            <i class="fa fa-times-circle" onclick="closeCart()" style="font-size:24px; color:#ccc;"></i>
        </div>

        <div class="cart-card" id="cartItemsList">
            </div>


        <div class="cart-card">
            <div class="bill-row"><span>Item Total</span> <span id="sTotal">₹0</span></div>
            <div class="bill-row" style="color:green;"><span>Discount</span> <span>-₹50</span></div>
            <div class="bill-row"><span>Handling Fee</span> <span>₹10</span></div>
            <div class="bill-row total-amt"><span>Total to Pay</span> <span id="fTotal">₹0</span></div>
            <p style="font-size:11px; color:#888; margin-top:10px; text-align:center;">UPI ID: 7869969190@ybl</p>
        </div>
        <div class="cart-card">
    <label style="font-size:12px; font-weight:bold; color:var(--primary)">भुगतान का तरीका (Payment Method)</label>
    <div class="address-card">
    <button class="loc-btn" onclick="getLiveLocation()">
        <i class="fa fa-crosshairs"></i> Auto-Detect Location
    </button>
    <input type="text" id="manualAddr" class="addr-input" placeholder="मकान नं, गली या लैंडमार्क">
    <input type="tel" id="altMobile" class="addr-input" placeholder="Alternate Mobile No.">
    <input type="hidden" id="googleMapsLink" value="Not Provided">
</div>

        <div class="cart-card">
            <div style="display:flex; gap:10px;">
                <div style="flex:1">
                    <label style="font-size:11px; font-weight:bold; color:var(--primary)">तारीख (Date)</label>
                    <input type="date" id="cartDate" class="input-field">
                </div>
                <div style="flex:1">
                    <label style="font-size:11px; font-weight:bold; color:var(--primary)">समय (Time)</label>
                    <input type="time" id="cartTime" class="input-field">
                </div>
            </div>
            <textarea id="cartRemark" class="input-field" placeholder="कोई खास निर्देश? (उदा. सीढ़ी लेकर आएं)"></textarea>
        </div>
<div id="mapPreview"></div>
<p id="locStatus" style="font-size: 10px; color: #15a04a; margin-top: 5px; display:none;">
    <i class="fa fa-check-circle"></i> आपकी लोकेशन मैप पर सेट हो गई है
</p>

<div class="cart-card">
    <div style="display:flex; gap:10px;">
        <button id="payCash" onclick="setPayMode('Cash')" style="flex:1; padding:12px; border:2px solid #ddd; border-radius:12px;">Cash</button>
        <button id="payOnline" onclick="setPayMode('Online')" style="flex:1; padding:12px; border:2px solid #ddd; border-radius:12px;">Online</button>
    </div>
</div>
</div>

        <button onclick="sendOrderToWA()" style="width:100%; padding:18px; background:#15a04a; color:white; border:none; border-radius:15px; font-weight:bold; font-size:18px; box-shadow: 0 5px 15px rgba(21,160,74,0.3);">
            Order Place करें (WhatsApp)
        </button>
    </div>
</div>

<script>// आज की तारीख और समय ऑटो-सेट करने के लिए
function setDefaultDateTime() {
    const now = new Date();
    document.getElementById('cartDate').value = now.toISOString().split('T')[0];
    const hours = String(now.getHours()).padStart(2, '0');
    const mins = String(now.getMinutes()).padStart(2, '0');
    document.getElementById('cartTime').value = `${hours}:${mins}`;
}

// कार्ट दिखाएं
function checkout() {
    if(cart.length === 0) return alert("आपका कार्ट खाली है!");
    document.getElementById('fullCartPanel').style.display = 'flex';
    setDefaultDateTime();
    renderCart();
}

function closeCart() {
    document.getElementById('fullCartPanel').style.display = 'none';
}

// कार्ट के अंदर + - के साथ सामान दिखाना
function renderCart() {
    let list = document.getElementById('cartItemsList');
    let subtotal = 0;
    list.innerHTML = "";

    cart.forEach((item, index) => {
        subtotal += (item.p * (item.qty || 1));
        list.innerHTML += `
            <div class="item-row">
                <div>
                    <div style="font-weight:bold; font-size:15px;">${item.n}</div>
                    <div style="color:var(--primary); font-size:13px;">₹${item.p}</div>
                </div>
                
                <div class="qty-ctrl">
                    <i class="fa fa-minus" onclick="updateQty('${item.n}', -1)"></i>
                    <span>${item.qty || 1}</span>
                    <i class="fa fa-plus" onclick="updateQty('${item.n}', 1)"></i>
                </div>
            </div>`;
    });

    let final = (subtotal - 50) + 10; // 50 discount, 10 fee
    document.getElementById('sTotal').innerText = "₹" + subtotal;
    document.getElementById('fTotal').innerText = "₹" + (final < 10 ? 10 : final);
}

 function updateQty(name, change) {
    let item = cart.find(i => i.n === name);
    if(item) {
        item.qty = (item.qty || 1) + change;
        
        // अगर संख्या 0 हो जाए तो आइटम हटा दो
        if(item.qty <= 0) {
            cart = cart.filter(i => i.n !== name);
        }
    }

    // अगर पूरा कार्ट खाली हो जाए (0 आइटम) तो वापस होम पर चले जाओ
    if (cart.length === 0) {
        alert("आपका कार्ट खाली हो गया है!");
        closeCart(); // यह कार्ट पैनल बंद कर देगा
        document.getElementById('bCount').innerText = "0";
        return; 
    }

    renderCart(); // स्क्रीन अपडेट करें
    document.getElementById('bCount').innerText = cart.length;
}

// व्हाट्सएप पर ऑर्डर भेजना
function sendOrderToWA() {
    let date = document.getElementById('cartDate').value;
    let time = document.getElementById('cartTime').value;
    let remark = document.getElementById('cartRemark').value;
    let itemsTxt = cart.map(i => `${i.n} (x${i.qty || 1})`).join(', ');
    let total = document.getElementById('fTotal').innerText;
    
    
    let msg = `*SewaAstra - New Order*%0A--------------------%0A*Items:* ${itemsTxt}%0A*Total:* ${total}%0A*Date:* ${date}%0A*Time:* ${time}%0A*Remark:* ${remark || 'None'}%0A*Client:* ${localStorage.getItem('sw_name')}`;
    
    window.open(`https://wa.me/917869969190?text=${msg}`);
}</script>
<script>let selectedMode = ""; // यह स्टोर करेगा कि Cash चुना या Online

function setPayMode(mode) {
    selectedMode = mode;
    // बटन्स का कलर बदलना
    document.getElementById('payCash').style.borderColor = mode === 'Cash' ? '#15a04a' : '#ddd';
    document.getElementById('payOnline').style.borderColor = mode === 'Online' ? '#15a04a' : '#ddd';
}

function handleFinalOrder() {
    if (!selectedMode) return alert("कृपया भुगतान का तरीका चुनें");

    if (selectedMode === 'Online') {
        startUPIPayment();
    } else {
        sendOrderToWA("Cash on Delivery");
    }
}

function startUPIPayment() {
    let amount = document.getElementById('fTotal').innerText.replace('₹', '');
    let name = localStorage.getItem('sw_name') || "SewaAstraUser";
    
    // UPI URL: इसमें 7869969190@ybl पर पेमेंट जाएगा
    let upiUrl = `upi://pay?pa=7869969190@ybl&pn=SewaAstra&am=${amount}&cu=INR&tn=OrderFor-${name}`;

    // मोबाइल ऐप्स खोलना
    window.location.href = upiUrl;

    // चूंकि वेब ब्राउज़र पेमेंट 'Success' को डायरेक्ट ट्रैक नहीं कर सकता (बिना API के)
    // हम 5 सेकंड बाद यूजर से पूछेंगे
    setTimeout(() => {
        let done = confirm("क्या आपका पेमेंट सफल रहा? सफल होने पर ही 'OK' दबाएं।");
        if (done) {
            sendOrderToWA("Online Paid (Verified)");
        }
    }, 5000);
}

// व्हाट्सएप फंक्शन को अपडेट किया गया
function sendOrderToWA(status) {
    let date = document.getElementById('cartDate').value;
    let time = document.getElementById('cartTime').value;
    let remark = document.getElementById('cartRemark').value;
    let itemsTxt = cart.map(i => `${i.n} (x${i.qty || 1})`).join(', ');
    let total = document.getElementById('fTotal').innerText;
    
    let msg = `*SewaAstra - NEW ORDER*%0A--------------------%0A*Status:* ${status}%0A*Items:* ${itemsTxt}%0A*Total:* ${total}%0A*Date:* ${date}%0A*Time:* ${time}%0A*Remark:* ${remark || 'None'}%0A*Client:* ${localStorage.getItem('sw_name')}`;
    
    window.open(`https://wa.me/917869969190?text=${msg}`);
    location.reload(); // ऑर्डर के बाद कार्ट साफ़
}</script>
<script>function setPayMode(mode) {
    selectedMode = mode;
    
    // बटन्स का रंग बदलना
    document.getElementById('payCash').style.borderColor = mode === 'Cash' ? '#15a04a' : '#ddd';
    document.getElementById('payOnline').style.borderColor = mode === 'Online' ? '#15a04a' : '#ddd';

    // अगर 'Online' चुना है, तो तुरंत पेमेंट ऐप्स खोलें
    if (mode === 'Online') {
        openPaymentApps();
    }
}

function openPaymentApps() {
    let amount = document.getElementById('fTotal').innerText.replace('₹', '');
    if(amount == "0") return alert("कार्ट खाली है!");

    let name = localStorage.getItem('sw_name') || "Customer";
    
    // यह है जादुई UPI लिंक जो सभी ऐप्स को खोलता है
    // pa = आपकी UPI ID, pn = नाम, am = अमाउंट, cu = करेंसी
    let upiUrl = `upi://pay?pa=shoorshyam.vishwakarma@ybl&pn=SewaAstra&am=${amount}&cu=INR&tn=ServiceBooking-${name}`;

    // मोबाइल के सभी पेमेंट ऐप्स को सिग्नल भेजना
    window.location.href = upiUrl;

    // पेमेंट के बाद वापस आने पर कन्फर्मेशन मांगना
    setTimeout(() => {
        let done = confirm("क्या आपने पेमेंट पूरा कर लिया है? \n\n'OK' तभी दबाएं जब पेमेंट सफल (Successful) हो गया हो।");
        if (done) {
            sendOrderToWA("Online Paid (UPI Verified)");
        } else {
            alert("पेमेंट कैंसिल कर दिया गया। कृपया फिर से कोशिश करें।");
            setPayMode(''); // मोड रीसेट करें
        }
    }, 5000); 
}</script>
<script>let selectedMode = ""; 

// 1. पेमेंट मोड सेट करना
function setPayMode(mode) {
    selectedMode = mode;
    document.getElementById('payCash').style.border = mode === 'Cash' ? '2px solid #15a04a' : '2px solid #ddd';
    document.getElementById('payOnline').style.border = mode === 'Online' ? '2px solid #15a04a' : '2px solid #ddd';
    
    // अगर ऑनलाइन है तो तुरंत ऐप्स खोलें
    if(mode === 'Online') {
        let amt = document.getElementById('fTotal').innerText.replace('₹', '');
        if(amt == "0") return alert("Cart खाली है");
        window.location.href = `upi://pay?pa=shoorshyam.vishwakarma@ybl&pn=SewaAstra&am=${amt}&cu=INR`;
    }
}

// 2. लाइव लोकेशन डिटेक्ट करना
function getLiveLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition((position) => {
            const mapsLink = `https://www.google.com/maps?q=${position.coords.latitude},${position.coords.longitude}`;
            document.getElementById('googleMapsLink').value = mapsLink;
            document.getElementById('manualAddr').value = "Live Location Detected ✅";
            alert("लोकेशन सेव हो गई!");
        });
    } else { alert("GPS सपोर्ट नहीं कर रहा"); }
}

// 3. फाइनल ऑर्डर व्हाट्सएप पर भेजना
function sendOrderToWA() {
    if(!selectedMode) return alert("Payment Method चुनें");
    
    let status = (selectedMode === "Online") ? "Online Paid (Verified)" : "Cash on Delivery";
    let addr = document.getElementById('manualAddr').value;
    let alt = document.getElementById('altMobile').value || "N/A";
    let maps = document.getElementById('googleMapsLink').value;
    let items = cart.map(i => `${i.n} (x${i.qty || 1})`).join(', ');
    let total = document.getElementById('fTotal').innerText;
    let date = document.getElementById('cartDate').value;
    let time = document.getElementById('cartTime').value;

    if(!addr) return alert("कृपया पता (Address) लिखें");

    let msg = `*NEW ORDER - SEWAASTRA*%0A--------------------%0A*Status:* ${status}%0A*Items:* ${items}%0A*Total:* ${total}%0A*Address:* ${addr}%0A*Alt No:* ${alt}%0A*Maps:* ${maps}%0A*Date:* ${date} (${time})`;
    
    window.open(`https://wa.me/917869969190?text=${msg}`);
    location.reload(); 
}</script>
<script>function getLiveLocation() {
    const locBtn = document.querySelector('.loc-btn');
    const mapBox = document.getElementById('mapPreview');
    const statusTxt = document.getElementById('locStatus');
    
    locBtn.innerHTML = '<i class="fa fa-spinner fa-spin"></i> डिटेक्ट कर रहे हैं...';

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition((position) => {
            const lat = position.coords.latitude;
            const lon = position.coords.longitude;
            
            // Google Maps Link बनाना
            const mapsLink = `https://www.google.com/maps?q=${lat},${lon}`;
            document.getElementById('googleMapsLink').value = mapsLink;
            document.getElementById('manualAddr').value = "सटीक लोकेशन मिल गई ✅";

            // Static Map Preview दिखाना (OpenStreetMap का उपयोग करके)
            const mapUrl = `https://static-maps.yandex.ru/1.x/?lang=en_US&ll=${lon},${lat}&z=16&l=map&size=450,150&pt=${lon},${lat},pm2rdm`;
            
            mapBox.style.backgroundImage = `url('${mapUrl}')`;
            mapBox.style.display = 'block';
            statusTxt.style.display = 'block';
            
            locBtn.innerHTML = '<i class="fa fa-check"></i> लोकेशन सेव्ड';
            locBtn.style.background = "#c8e6c9";
        }, () => {
            alert("लोकेशन नहीं मिल पाई, कृपया मैन्युअल लिखें।");
            locBtn.innerHTML = '<i class="fa fa-crosshairs"></i> फिर से कोशिश करें';
        });
    }
}</script>
<script>function addToCart(name, price) {
    // 1. चेक करें कि क्या यह आइटम पहले से कार्ट में है?
    let existingItem = cart.find(item => item.n === name);

    if (existingItem) {
        // 2. अगर है, तो सिर्फ उसकी क्वांटिटी (संख्या) बढ़ाएं
        existingItem.qty = (existingItem.qty || 1) + 1;
        alert(name + " की संख्या बढ़ा दी गई है!");
    } else {
        // 3. अगर नहीं है, तो नया आइटम जोड़ें (qty: 1 के साथ)
        cart.push({ n: name, p: price, qty: 1 });
        alert(name + " कार्ट में जोड़ दिया गया!");
    }

    // कार्ट का बैज (लाल बिंदी वाला नंबर) अपडेट करें
    updateBadge();
    
    // अगर कार्ट खुला है तो उसे तुरंत रिफ्रेश करें
    if(document.getElementById('fullCartPanel').style.display === 'flex') {
        renderCart();
    }
}

function updateBadge() {
    // टोटल आइटम्स की संख्या दिखाएं
    let totalItems = cart.length; 
    document.getElementById('bCount').innerText = totalItems;
}</script>
<script>// अपनी पुरानी रेंडरिंग में जहाँ ADD बटन है, वहां एक ID दे दें
// उदाहरण: id="btn-${serviceName}"

function addToCart(name, price) {
    let existingItem = cart.find(item => item.n === name);
    let btn = document.getElementById(`btn-${name.replace(/\s+/g, '')}`);

    if (existingItem) {
        existingItem.qty = (existingItem.qty || 1) + 1;
    } else {
        cart.push({ n: name, p: price, qty: 1 });
        // बटन का टेक्स्ट और स्टाइल बदलें
        if(btn) {
            btn.innerText = "Added ✓";
            btn.style.background = "#888"; // रंग ग्रे कर दें
        }
    }
    updateBadge();
}</script>
<script>function addToCart(name, price) {
    // चेक करें कि क्या आइटम पहले से कार्ट में है
    let existingItem = cart.find(item => item.n === name);

    if (existingItem) {
        // अगर पहले से है, तो संख्या बढ़ाएं और अलर्ट दिखाएं
        existingItem.qty = (existingItem.qty || 1) + 1;
        
        // सुंदर छोटा अलर्ट (Toast style)
        showToast(`${name} की संख्या बढ़ाकर ${existingItem.qty} कर दी गई है! ➕`);
    } else {
        // अगर नया है, तो जोड़ें
        cart.push({ n: name, p: price, qty: 1 });
        showToast(`${name} कार्ट में जोड़ दिया गया! ✅`);
    }

    updateBadge(); // बैज अपडेट करें
}

// सुंदर नोटिफिकेशन (Toast) के लिए फंक्शन
function showToast(message) {
    let toast = document.getElementById('cartToast');
    if(!toast) {
        // अगर टोस्ट HTML नहीं है, तो बनाओ
        toast = document.createElement('div');
        toast.id = 'cartToast';
        document.body.appendChild(toast);
    }
    
    toast.innerText = message;
    toast.className = "show-toast";
    
    // 3 सेकंड बाद हटा दो
    setTimeout(() => { toast.className = toast.className.replace("show-toast", ""); }, 3000);
}</script>
<script>// ध्यान दें: इस बार हम 'event' को भी पास कर रहे हैं ताकि पता चले किस बटन को दबाया गया
function addToCart(name, price, btnElement) {
    let existingItem = cart.find(item => item.n === name);

    if (existingItem) {
        existingItem.qty = (existingItem.qty || 1) + 1;
        showToast(`${name} की संख्या बढ़ाई गई (${existingItem.qty}) ➕`);
    } else {
        cart.push({ n: name, p: price, qty: 1 });
        showToast(`${name} कार्ट में जोड़ा गया! ✅`);

        // बटन को 'Fill' करें
        if (btnElement) {
            btnElement.classList.add('filled');
            btnElement.innerText = "Added ✓";
        }
    }
    
    updateBadge();
}</script>
<script>// पेज स्विच करने का सही तरीका
function showPage(pageId) {
    // 1. ब्राउज़र के पुराने Alerts को रोकने के लिए console log
    console.log("Navigating to: " + pageId);

    // 2. सभी पेजों को छुपाएं
    document.querySelectorAll('.page').forEach(page => {
        page.style.display = 'none';
    });

    // 3. टारगेट पेज को दिखाएं
    const activePage = document.getElementById(pageId);
    if (activePage) {
        activePage.style.display = 'block';
        window.scrollTo(0,0); // पेज के टॉप पर जाएँ
    }

    // 4. अगर हिस्ट्री पर क्लिक किया है, तो डेटा रेंडर करें
    if (pageId === 'history') {
        renderHistoryUI(); 
    }
}

// हिस्ट्री को सुंदर तरीके से दिखाने का फंक्शन
function renderHistoryUI() {
    const historyBox = document.getElementById('historyContent');
    let orders = JSON.parse(localStorage.getItem('myOrders') || "[]");

    // अगर कोई हिस्ट्री नहीं है - NO ALERT, ONLY UI
    if (orders.length === 0) {
        historyBox.innerHTML = `
            <div class="empty-state" style="text-align:center; padding:100px 20px;">
                <i class="fa fa-history" style="font-size:60px; color:#ddd;"></i>
                <h2 style="color:#666; margin-top:20px;">कोई इतिहास नहीं</h2>
                <p style="color:#999;">आपने अभी तक कुछ बुक नहीं किया है।</p>
                <button onclick="showPage('home')" style="background:#15a04a; color:white; border:none; padding:12px 25px; border-radius:10px; margin-top:20px; font-weight:bold;">अभी बुकिंग शुरू करें</button>
            </div>`;
        return;
    }

    // अगर डेटा है तो उसे लिस्ट में दिखाएं
    historyBox.innerHTML = `<h2 style="padding:20px 20px 0;">आपका इतिहास</h2>` + 
    orders.map(order => `
        <div class="history-card" style="background:white; margin:15px; padding:15px; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.05); border:1px solid #eee;">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                <span style="font-weight:bold; color:#15a04a;">#ORD-${order.id.toString().slice(-4)}</span>
                <span style="font-size:12px; font-weight:bold; color:${order.status === 'Paid' ? '#2e7d32' : '#ef6c00'};">
                    ${order.status.toUpperCase()}
                </span>
            </div>
            <div style="font-size:14px; color:#333; margin-bottom:8px;">${order.items}</div>
            <div style="font-size:18px; font-weight:900;">${order.amount}</div>
            <hr style="border:0; border-top:1px solid #eee; margin:12px 0;">
            
            ${order.status !== 'Paid' ? 
                `<button onclick="paySpecificOrder('${order.amount}', ${order.id})" style="width:100%; background:#15a04a; color:white; border:none; padding:10px; border-radius:8px; font-weight:bold;">अभी पेमेंट करें</button>` : 
                `<div style="text-align:center;">
                    <p style="font-size:12px; color:#888;">रेटिंग दें</p>
                    <div style="color:#ffc107; font-size:20px;">★★★★★</div>
                </div>`
            }
        </div>
    `).join('');
}</script>
<script>function renderOrderCards(orders, container) {
    container.innerHTML = `<h3 style="padding:20px 20px 5px;">आपकी बुकिंग्स</h3>` + 
    orders.map(order => `
        <div class="history-card">
            <div style="display:flex; justify-content:space-between; align-items:flex-start;">
                <div>
                    <div style="font-size:12px; color:#999;">Order #${order.id.toString().slice(-5)}</div>
                    <div style="font-weight:bold; margin:5px 0;">${order.items}</div>
                </div>
                <span class="pay-online-badge">${order.status.toUpperCase()}</span>
            </div>
            
            <div style="font-size:18px; font-weight:900; margin-top:10px;">${order.amount}</div>

            <div style="margin-top:15px; border-top:1px solid #eee; padding-top:12px;">
                ${order.status !== 'Paid' ? 
                    `<button onclick="paySpecificOrder('${order.amount}', ${order.id})" style="width:100%; background:#15a04a; color:white; border:none; padding:12px; border-radius:10px; font-weight:bold;">Pay Online Now</button>` : 
                    `<div style="display:flex; justify-content:space-between; align-items:center;">
                        <span style="font-size:13px; color:#666;">रेटिंग दें:</span>
                        <div style="color:#ffc107; font-size:18px;">★★★★★</div>
                    </div>`
                }
            </div>
        </div>
    `).join('');
}</script>
<script>function handleHistoryClick() {
    // 1. पहले चेक करें कि क्या होम पेज और हिस्ट्री पेज की IDs मौजूद हैं
    const home = document.getElementById('home');
    const history = document.getElementById('history');

    if (home && history) {
        // 2. पेजों को अदला-बदली करें
        home.style.display = 'none';
        history.style.display = 'block';
        
        // 3. डेटा लोड करें (बिना किसी अलर्ट के)
        renderHistoryUI(); 
    } else {
        console.error("ID 'home' या 'history' नहीं मिली। कृपया अपने HTML की IDs चेक करें।");
    }
}

// नया रेंडर फंक्शन (जो सिर्फ हिस्ट्री दिखाएगा)
function renderHistoryUI() {
    const historyBox = document.getElementById('historyContent');
    let orders = JSON.parse(localStorage.getItem('myOrders') || "[]");

    if (orders.length === 0) {
        historyBox.innerHTML = `
            <div style="text-align:center; padding:100px 20px;">
                <i class="fa fa-history" style="font-size:50px; color:#ddd;"></i>
                <h3 style="color:#666; margin-top:20px;">कोई इतिहास नहीं मिला</h3>
                <button onclick="location.reload()" style="margin-top:15px; background:#15a04a; color:white; border:none; padding:10px 20px; border-radius:10px;">होम पर जाएं</button>
            </div>`;
        return;
    }

    historyBox.innerHTML = `<h2 style="padding:20px 15px 5px;">आपका इतिहास</h2>` + 
    orders.map(order => `
        <div class="history-card" style="background:white; margin:15px; padding:15px; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.05); border:1px solid #eee;">
            <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                <b style="color:#15a04a;">#ORD-${order.id.toString().slice(-4)}</b>
                <span style="font-size:12px; font-weight:bold; color:${order.status === 'Paid' ? '#2e7d32' : '#ef6c00'};">
                    ${order.status.toUpperCase()}
                </span>
            </div>
            <div style="font-size:14px; color:#333; margin-bottom:8px;">${order.items}</div>
            <div style="font-size:18px; font-weight:900;">${order.amount}</div>
            
            <div style="margin-top:15px; border-top:1px solid #eee; padding-top:12px;">
                ${order.status !== 'Paid' ? 
                    `<button onclick="paySpecificOrder('${order.amount}', ${order.id})" style="width:100%; background:#15a04a; color:white; border:none; padding:12px; border-radius:10px; font-weight:bold;">Pay Online Now</button>` : 
                    `<div style="display:flex; justify-content:space-between; align-items:center;">
                        <span style="font-size:13px; color:#888;">Rating:</span>
                        <div style="color:#ffc107; font-size:18px;">★★★★★</div>
                    </div>`
                }
            </div>
        </div>
    `).join('');
}</script>
<script>let currentIssue = "";

// 1. सपोर्ट पेज खोलना और होम छुपाना
function openSupportView() {
    const home = document.getElementById('homePage'); // अपनी होम आईडी चेक करें
    if(home) home.style.display = 'none';
    
    document.getElementById('supportPage').style.display = 'block';
    resetSupportFlow();
}

// 2. वापस होम पर जाना
function closeSupportView() {
    document.getElementById('supportPage').style.display = 'none';
    const home = document.getElementById('homePage');
    if(home) home.style.display = 'block';
}

// 3. समस्या का चुनाव
function selectSuppIssue(issue) {
    currentIssue = issue;
    document.getElementById('step1').style.display = 'none';
    document.getElementById('step2').style.display = 'block';
    document.getElementById('issueLabel').innerText = "Selected: " + issue;
}

// 4. फ्लो रिसेट करना
function resetSupportFlow() {
    document.getElementById('step1').style.display = 'block';
    document.getElementById('step2').style.display = 'none';
}

// 5. फाइनल कॉन्टैक्ट
function talkToExpert(method) {
    const myNumber = "7869969190";
    if (method === 'wa') {
        const text = encodeURIComponent("नमस्ते, मुझे " + currentIssue + " के बारे में मदद चाहिए।");
        window.open(`https://wa.me/${myNumber}?text=${text}`);
    } else {
        window.open(`tel:${myNumber}`);
    }
}</script>
 <div id="supportPage" style="display:none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 9999; overflow-y: auto;">
    
    <div class="support-header">
        <div style="display: flex; align-items: center; max-width: 600px; margin: 0 auto;">
            <button onclick="closeSupportView()" style="border:none; background:none; font-size:22px; color:#15a04a;"><i class="fa fa-arrow-left"></i></button>
            <h3 style="flex-grow:1; margin:0; font-size:18px;">Customer Support</h3>
        </div>
    </div>

    <div style="max-width: 600px; margin: 0 auto; padding-bottom: 40px;">
        <div style="text-align: center; padding: 40px 20px;">
            <div style="background: #e8f5e9; width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px;">
                <i class="fa fa-headset" style="font-size: 35px; color: #15a04a;"></i>
            </div>
            <h2 style="color: #222; margin: 0;">नमस्ते! हम यहाँ हैं।</h2>
            <p style="color: #666; margin-top: 8px;">अपनी समस्या चुनें ताकि हम सही समाधान दे सकें।</p>
        </div>

        <div id="step1">
            <div class="support-tile" onclick="selectSuppIssue('Payment Problem')">
                <span>💰 पेमेंट की समस्या</span> <i class="fa fa-chevron-right"></i>
            </div>
            <div class="support-tile" onclick="selectSuppIssue('Order Tracking')">
                <span>📦 ऑर्डर कहाँ पहुँचा?</span> <i class="fa fa-chevron-right"></i>
            </div>
            <div class="support-tile" onclick="selectSuppIssue('Cancellation')">
                <span>❌ बुकिंग रद्द करना</span> <i class="fa fa-chevron-right"></i>
            </div>
            <div class="support-tile" onclick="selectSuppIssue('Technical Issue')">
                <span>🛠️ ऐप में तकनीकी समस्या</span> <i class="fa fa-chevron-right"></i>
            </div>
        </div>

        <div id="step2" style="display:none;">
            <div class="contact-container text-center">
                <p id="issueLabel" style="font-size: 14px; color: #15a04a; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px;"></p>
                <h3 style="margin-bottom: 25px; color: #333;">विशेषज्ञ से बात करें</h3>
                
                <button class="btn-wa" onclick="talkToExpert('wa')">
                    <i class="fab fa-whatsapp" style="font-size: 20px;"></i> WhatsApp Chat
                </button>
                
                <button class="btn-call" onclick="talkToExpert('call')">
                    <i class="fa fa-phone-alt"></i> Call Now
                </button>
                
                <span class="back-link" onclick="resetSupportFlow()">← दूसरी समस्या चुनें</span>
            </div>
        </div>
    </div>
</div>
</body>
</html>
 